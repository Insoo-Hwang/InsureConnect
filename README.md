# InsureConnect
SpingBootë¥¼ í™œìš©í•œ ë³´í—˜ ì¤‘ê°œ ì„œë¹„ìŠ¤

## ğŸ–¥ï¸ í”„ë¡œì íŠ¸ ì†Œê°œ
ë³´í—˜ ì„¤ê³„ì‚¬ì™€ ë³´í—˜ ê°€ì…ìë¥¼ ì—°ê²°í•´ì£¼ëŠ” ì›¹ ì„œë¹„ìŠ¤

### ğŸ§‘ ì°¸ì—¬ ì¸ì›
* [í™©ì¸ìˆ˜](https://github.com/Insoo-Hwang)
  - ì‚¬ìš©ì, ê´€ë¦¬ì ê´€ë ¨ í˜ì´ì§€ ë° OAuth2.0 ë° JWTê´€ë ¨ íŒŒíŠ¸ ì œì‘
* [ì´í•œì–¼](https://github.com/Machrie)
  - ì„¤ê³„ì‚¬, ë¦¬ë·° ê´€ë ¨ í˜ì´ì§€ ë° ModelMapperê´€ë ¨ íŒŒíŠ¸ ì œì‘

### ğŸ¬ í”„ë¡œì íŠ¸ ê¸°íš ë™ê¸°
1. ë³´í—˜ì— ëŒ€í•´ ë¬´ì§€í•˜ì—¬ ìì‹ ì—ê²Œ í•„ìš”í•œ ë³´í—˜ì˜ ì¹´í…Œê³ ë¦¬ì— ëŒ€í•´ ì˜ ëª¨ë¥´ëŠ” ì‚¬ëŒì´ ë§ìŒ
2. ê¸°ì¡´ ë³´í—˜ ì„¤ê³„ëŠ” ë‹¤ì–‘í•œ ì„¤ê³„ì‚¬ë¥¼ ë¹„êµí•  ìˆ˜ ì—†ì–´ ì„¤ê³„ì‚¬ ì„ íƒì— ì œì•½ ì‚¬í•­ì´ ë§ìŒ
3. ë‹¤ì–‘í•œ ë³´í—˜ íšŒì‚¬ì—ì„œ ì œê³µí•˜ëŠ” ë³´í—˜ ì„¤ê³„ ì„œë¹„ìŠ¤ë¥¼ í•œ ê³³ì—ì„œ ë³¼ ìˆ˜ ìˆëŠ” ì„œë¹„ìŠ¤ê°€ ë¶€ì¬í•¨
* ê°€ì…ì ì…ì¥ì—ì„œ ìì‹ ì´ í•„ìš”í•œ ë³´í—˜ì´ ë¬´ì—‡ì¸ì§€ ì†ì‰½ê²Œ íŒŒì•…í•˜ê³  ì¸ê¸° ì„¤ê³„ì‚¬ë¥¼ ê³¨ë¼ì„œ ìƒë‹´í•  ìˆ˜ ìˆëŠ” ì¤‘ë¦½ì ì¸ í”Œë«í¼ì— ëŒ€í•œ í•„ìš”ì„±ì´ ëŒ€ë‘ë˜ì–´ í•´ë‹¹ í”„ë¡œì íŠ¸ ê¸°íš 

### ğŸ¯ í”„ë¡œì íŠ¸ ëª©í‘œ ë° ê¸°ëŒ€ íš¨ê³¼
* Chat GPTì™€ì˜ ëŒ€í™”ë¥¼ í†µí•´ ìì‹ ì—ê²Œ ë§ëŠ” ë³´í—˜ ì¹´í…Œê³ ë¦¬ë¥¼ ì•Œ ìˆ˜ ìˆìŒ
* ì¹´í…Œê³ ë¦¬ë¥¼ í†µí•´ ë³´í—˜ ê°€ì…ìê°€ ìì‹ ì—ê²Œ ë§ëŠ” ë‹¤ì–‘í•œ ì„¤ê³„ì‚¬ë¥¼ í™•ì¸ ë° ìƒë‹´ ìš”ì²­í•  ìˆ˜ ìˆìŒ
* ìƒë‹´ì„ ë§ˆì¹œ í›„ ë‚¨ê¸´ ë¦¬ë·°ë¥¼ í†µí•´ ë‹¤ìŒ ê°€ì…ìì—ê²Œ ì„¤ê³„ì‚¬ì— ëŒ€í•œ ì •ë³´ë¥¼ ë‚¨ê¸¸ ìˆ˜ ìˆìŒ

### ğŸ“† ê°œë°œ ê¸°ê°„
* 2024.01.02 ~ 2024.01.25

### âš™ï¸ ê°œë°œ í™˜ê²½
- **Language** : `Java 17`
- **IDE** : `IntelliJ`
- **Framework** : `SpringBoot 3.2.1`
- **Featured Library** : `OAuth 2.0` + `JWT 0.9.1` + `ModelMapper 3.1.1`
- **Sevlet Engine** : `Apache Tomcat 10.1.17`
- **Database** : `Postgresql 16`
- **ORM** : `Hibernate 6.4.1` + `JPA 3.2.1`
- **Web** : `HTML`(+`thymeleaf`) + `JavaScript`(+`JQuery`) + `CSS`(+`bootstrap`)

### ğŸŒ³ ERD
![earl - public](https://github.com/Insoo-Hwang/InsureConnect/assets/125466323/87d754b6-0c60-416d-81fc-4d7285280440)

## ğŸ§ í”„ë¡œì íŠ¸ íŠ¹ì§•

### ğŸ› ï¸ ì£¼ìš” ê¸°ëŠ¥
* ë³´í—˜ ê°€ì…ì
1. Chat GPTë¥¼ í™œìš©í•˜ì—¬ ê°€ì…í•˜ê³ ì í•˜ëŠ” ë³´í—˜ ì¹´í…Œê³ ë¦¬ í™•ì¸
2. ë³´í—˜ ì¹´í…Œê³ ë¦¬ë¥¼ í™œìš©í•˜ì—¬ ì„¤ê³„ì‚¬ ê²€ìƒ‰ ë° ì„¤ê³„ì‚¬ í™ë³´ê¸€ í™•ì¸
3. ìì‹ ì—ê²Œ ë§ëŠ” ë³´í—˜ ì„¤ê³„ì‚¬ì™€ ì—°ê²°
4. ìƒë‹´ í›„ ì„¤ê³„ì‚¬ì— ëŒ€í•œ ë¦¬ë·° ì‘ì„±

* ë³´í—˜ ì„¤ê³„ì‚¬
1. ìì‹ ì„ ë‚˜íƒ€ë‚¼ ìˆ˜ ìˆëŠ” í™ë³´ê¸€ ì‘ì„±
2. ê°€ì…ìê°€ ì²¨ë¶€í•œ AI ì±„íŒ… ë‚´ì—­ í™•ì¸ í›„ ìƒë‹´

### 1. ë©”ì¸ í˜ì´ì§€
![screencapture-localhost-8080-2024-01-25-16_39_00](https://github.com/Insoo-Hwang/InsureConnect/assets/125466323/47674a52-e6a5-4060-bd61-6220b3e89559)

1. ì¸ê¸° ìƒë‹´ì‚¬ í™•ì¸
2. ìµœê·¼ ë¦¬ë·° í™•ì¸

### 2. ê´€ë¦¬ í˜ì´ì§€
<img width="1440" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-01-25 á„‹á…©á„’á…® 3 54 16" src="https://github.com/Insoo-Hwang/InsureConnect/assets/125466323/e181fc96-e11d-4410-bcbd-cf59be4b4429">
<img width="726" alt="ìŠ¤í¬ë¦°ìƒ· 2024-01-25 ì˜¤í›„ 2 39 48" src="https://github.com/Insoo-Hwang/InsureConnect/assets/125466323/1e2bccfe-9c2d-48fb-a604-64540c8a9667">
<img width="1439" alt="ìŠ¤í¬ë¦°ìƒ· 2024-01-25 ì˜¤í›„ 2 08 55" src="https://github.com/Insoo-Hwang/InsureConnect/assets/125466323/7a24f155-8555-4a33-ab87-dd4993ebc343">

1. ì„¤ê³„ì‚¬ ì‹ ì²­ ë‚´ì—­ í™•ì¸ ë° ë“±ë¡
2. ìœ ì € ê´€ë¦¬
3. ë¦¬ë·° ê´€ë¦¬
4. ì¹´í…Œê³ ë¦¬ ê´€ë¦¬

### 3. ì„¤ê³„ì‚¬ ê´€ë¦¬ í˜ì´ì§€
<img width="1440" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-01-25 á„‹á…©á„’á…® 7 16 32" src="https://github.com/Insoo-Hwang/InsureConnect/assets/125466323/51bd9646-a9f7-4b34-a50f-b19b2a922f30">

1. ìš”ì²­ ìƒë‹´ì AIì±„íŒ… ë‚´ì—­ í™•ì¸
2. í™ë³´ê¸€ ê´€ë¦¬

### 4. ë§ˆì´ í˜ì´ì§€
<img width="1437" alt="ìŠ¤í¬ë¦°ìƒ· 2024-01-25 ì˜¤í›„ 3 43 01" src="https://github.com/Insoo-Hwang/InsureConnect/assets/125466323/8c72a89a-d88f-4961-9971-b07090856932">

1. ë‚´ ì •ë³´ ìˆ˜ì •
2. ë‚´ê°€ ì“´ ë¦¬ë·° ê´€ë¦¬
3. íšŒì› íƒˆí‡´

### 5. AI ì±„íŒ…
<img width="1440" alt="ìŠ¤í¬ë¦°ìƒ· 2024-01-25 ì˜¤í›„ 3 48 14" src="https://github.com/Insoo-Hwang/InsureConnect/assets/125466323/23b33442-2228-4b9e-99d6-b5e0b3b0fc24">

1. Chat GPT ê¸°ë°˜ ë³´í—˜ ì •ë³´ íšë“

### 6. ë³´í—˜ ì„¤ê³„ì‚¬ í™ë³´ í˜ì´ì§€
<img width="1116" alt="ìŠ¤í¬ë¦°ìƒ· 2024-01-25 ì˜¤í›„ 3 38 53" src="https://github.com/Insoo-Hwang/InsureConnect/assets/125466323/27449ff8-7f1f-49c5-a3dd-500de04261e2">
<img width="1437" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-01-25 á„‹á…©á„’á…® 3 52 10" src="https://github.com/Insoo-Hwang/InsureConnect/assets/125466323/b0e12b63-3ff2-429e-91b5-9a93b4ec36c6">

1. ê°€ì…ìì˜ ìƒí™©ì— ë§ëŠ” ì„¤ê³„ì‚¬ í™•ì¸ ë° ìƒë‹´ ì‹ ì²­
2. ìƒë‹´ì‚¬ ì¹´ì¹´ì˜¤í†¡ ì±„ë„ ì—°ê²°

### 7. ë¦¬ë·° í˜ì´ì§€
<img width="1325" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-01-25 á„‹á…©á„’á…® 3 38 12" src="https://github.com/Insoo-Hwang/InsureConnect/assets/125466323/4ec3b5a6-ad94-426b-b240-e5168bd7a27a">

1. ì „ì²´ ë¦¬ë·° í™•ì¸

### âš ï¸ ë¬¸ì œ ë°œìƒ ë° í•´ê²°
#### 1. ì¸ê¸° ì„¤ê³„ì‚¬ ì„ ì • ë° í˜¸ì¶œ ë¬¸ì œ
* ë¬¸ì œ íŒŒì•…
  - ì¸ê¸° ì„¤ê³„ì‚¬ ì„ ì •
    + ë‹¨ìˆœ ë¦¬ë·° ì ìˆ˜ì˜ í•©ìœ¼ë¡œ ë‚˜ì—´í•˜ê¸°ì—ëŠ” ìµœê·¼ì— ì‹œì‘í•œ ì„¤ê³„ì‚¬ê°€ ë¶ˆë¦¬í•œ ë©´ì´ ìˆìŒ
    + ë¦¬ë·° í‰ê·  ì ìˆ˜ë¡œ ë‚˜ì—´í•˜ê¸°ì—ëŠ” ë³´í—˜ ê°€ì…ìì˜ í”¼ë“œë°±ì„ ìˆ˜ì •ë°›ì•„ ë” ì¢‹ì€ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•´ë„ ê³¼ê±°ì˜ ë‚®ì€ ì ìˆ˜ì˜ ë¦¬ë·°ê°€ ë°œëª©ì„ ì¡ì„ ìˆ˜ ìˆìŒ
  - ì¸ê¸° ì„¤ê³„ì‚¬ ê³„ì‚° í•¨ìˆ˜ í˜¸ì¶œ
    + ë©”ì¸ í˜ì´ì§€ì— ì ‘ì†í•  ë•Œë§ˆë‹¤ ì¸ê¸° ì„¤ê³„ì‚¬ ê³„ì‚° í•¨ìˆ˜ í˜¸ì¶œì‹œ ì„œë²„ì— ê³¼ë¶€í•˜ê°€ ê±¸ë¦´ ê°€ëŠ¥ì„±ì´ ìˆìŒ 
* ë¬¸ì œ í•´ê²°
  - ì¸ê¸° ì„¤ê³„ì‚¬ ì„ ì •
    + ~~ìµœê·¼ 1ë…„ ë¦¬ë·°ë§Œ ë°˜ì˜ í›„ í‰ê·  ì ìˆ˜ë¡œ ë‚˜ì—´~~ -> ìµœê·¼ì˜ ë¦¬ë·°ì™€ 1ë…„ ì „ ë¦¬ë·°ê°€ ê°™ì€ ê°€ì¹˜ë¥¼ ê°–ëŠ” ê²ƒì€ 2ë²ˆ ë¬¸ì œì ì„ í•´ê²°í•˜ì§€ ëª»í•¨
    + ~~ê¸°ê°„ë³„ë¡œ ê°€ì¤‘ì¹˜ë¥¼ ë‘ì–´ ìµœê·¼ì˜ ë¦¬ë·°ê°€ ë” ë†’ì€ ì ìˆ˜ë¥¼ ë°›ë„ë¡ ì¡°ì •~~ -> ë¦¬ë·° 100ê°œ í‰ê·  ì ìˆ˜ 4.8ì¸ ì„¤ê³„ì‚¬ë³´ë‹¤ ë¦¬ë·° 1ê°œ í‰ê·  ì ìˆ˜ 5.0ì¸ ì„¤ê³„ì‚¬ê°€ ë” ë†’ì€ ì ìˆ˜ë¥¼ ë°›ëŠ” ë¬¸ì œ ë°œìƒ
    + **ê¸°ê°„ë³„ë¡œ ê°€ì¤‘ì¹˜ë¥¼ ë‘ê³  í‰ê·  ì ìˆ˜ë¥¼ êµ¬í•œ í›„ ì „ì²´ ë¦¬ë·° ìˆ˜ì— ëŒ€í•œ ì ìˆ˜ ì¶”ê°€ ë¶€ì—¬ -> ìµœê·¼ ë¦¬ë·°ì— ëŒ€í•œ ê°€ì¹˜ ìƒìŠ¹ ë° í‰ê· ì˜ í•¨ì • í•´ê²° ê°€ëŠ¥**
  - ì¸ê¸° ì„¤ê³„ì‚¬ ê³„ì‚° í•¨ìˆ˜ í˜¸ì¶œ
    + ~~ë¦¬ë·°ê°€ ì¶”ê°€ë  ë•Œë§ˆë‹¤ ì ìˆ˜ ê³„ì‚°~~ -> ì‹¤ì‹œê°„ìœ¼ë¡œ ì ìˆ˜ ë°˜ì˜ì´ ê°€ëŠ¥í•˜ë‚˜ ë¦¬ë·° ì‘ì„± ì‚¬ìš©ì ìˆ˜ê°€ ë§ì„ ê²½ìš° ì„œë²„ ê³¼ë¶€í•˜ ë¬¸ì œ í•´ê²° ë¶ˆê°€
    + **1ì‹œê°„ë§ˆë‹¤ í•œë²ˆì”© ì ìˆ˜ ê³„ì‚° -> ì‹¤ì‹œê°„ ì ìˆ˜ ë°˜ì˜ì´ ë¶ˆê°€ëŠ¥í•˜ë‚˜ 1ì‹œê°„ì— ë§ì€ ìƒë‹´ì„ ì§„í–‰í•˜ì§€ ëª»í•œë‹¤ëŠ” ìƒí™©ì„ ê³ ë ¤í•˜ì—¬ ì ìˆ˜ ì‹¤ì‹œê°„ ë°˜ì˜ë³´ë‹¤ ê³¼ë¶€í•˜ ë°©ì§€ê°€ ë” í° ì´ì ì´ ìˆë‹¤ê³  íŒë‹¨**
* í•´ê²° ê³¼ì •
  - ì¸ê¸° ì„¤ê³„ì‚¬ ì„ ì •
    + ~~ê¸°ê°„ì— ë”°ë¥¸ ì„ í˜•ì  ê°€ì¤‘ì¹˜ ê°’ í™œìš©~~ -> ë‹¨ìˆœí•˜ì—¬ í•©ë¦¬ì ì¸ ì ìˆ˜ ë¶€ì—¬ê°€ ë¶ˆê°€ëŠ¥í•˜ë‹¤ê³  íŒë‹¨ 
    + **ê°€ì¤‘ì¹˜ ê°’ìœ¼ë¡œ ë§ê° ê³¡ì„ ì˜ ë§ê°ë¥  í™œìš© -> ìƒë‹´ì— ëŒ€í•œ ê¸°ì–µ(ë¦¬ë·°)ì€ ì¸ê°„ì˜ ê¸°ì–µê³¼ ìœ ì‚¬í•  ê²ƒì´ë¼ íŒë‹¨**
      + ![ë§ê°ê³¡ì„ ](https://github.com/Insoo-Hwang/InsureConnect/assets/70841847/cabecc55-5de3-4b19-b42c-3dba088d526c)
      + (1ë‹¬(58ì )+3ë‹¬(44ì )+6ë‹¬(33ì )+1ë…„(20ì ))*ë¦¬ë·° ì ìˆ˜/ì „ì²´ ë¦¬ë·°ìˆ˜+ë¦¬ë·° 1ê°œë‹¹(30ì )
        ```java
        public int getRecommendRating(){
            int score = 0;
            if(review != null && !review.isEmpty()){
                int cnt = 0;
                for(Review reviewScore : review){
                    Timestamp before = reviewScore.getWrite();
                    Timestamp now = new Timestamp(System.currentTimeMillis());
                    Instant beforeIns = before.toInstant();
                    Instant nowIns = now.toInstant();
                    Duration duration = Duration.between(beforeIns, nowIns);
                    long day = Math.abs(duration.toDays());
                    if(day > 365) continue; //1ë…„ ì´ìƒ 0ì 
                    else if(day > 180){
                        score+=reviewScore.getRate()*20; //6ê°œì›”~1ë…„ 20ì 
                        cnt++;
                    }
                    else if(day > 90){
                        score+=reviewScore.getRate()*33; //3ê°œì›”~6ê°œì›” 33ì 
                        cnt++;
                    }
                    else if(day > 30){
                        score+=reviewScore.getRate()*44; //1ê°œì›”~3ê°œì›” 30ì 
                        cnt++;
                    }
                    else{
                        score+=reviewScore.getRate()*58; //1ê°œì›” ì´í•˜ 58ì 
                        cnt++;
                    }
                }
                score = (score/cnt)+(cnt*30); //ê°€ì¤‘ì¹˜ ì ìˆ˜ í‰ê·  + ë¦¬ë·° 1ê°œë‹¹ 30ì ì 
            }
            return score;
        }
        ```
  - ì¸ê¸° ì„¤ê³„ì‚¬ ê³„ì‚° í•¨ìˆ˜ í˜¸ì¶œ
    + **1ì‹œê°„ ë§ˆë‹¤ ê³„ì‚°í•œ ë‚´ìš©ì„ DBì— ì €ì¥ í›„ í˜¸ì¶œ -> ì§§ì€ ì‹œê°„ì— ë°œìƒí•˜ëŠ” ë™ì¼í•œ ê³„ì‚°ì„ ë°©ì§€í•˜ì—¬ ì„œë²„ ê³¼ë¶€í•˜ ë°©ì§€**
    + ```java
      public RecommendDto recommendPlanner(){
          List<PlannerDto> plannerDtos = new ArrayList<>();
          RecommendPlanner recommendPlanner = recommendPlannerRepository.findFirstByOrderByTimeDesc(); //ê°€ì¥ ìµœê·¼ì— ì €ì¥ëœ ì¸ê¸° ì„¤ê³„ì‚¬ ë¦¬ìŠ¤íŠ¸ í˜¸ì¶œ
          Timestamp time = null;
          if(recommendPlanner != null){ //ì €ì¥ëœ ë‚´ìš©ì´ ìˆëŠ” ê²½ìš° 1ì‹œê°„ ì´ë‚´ì˜ ë°ì´í„°ë¥¼ í˜¸ì¶œ
              time = recommendPlanner.getTime();
              Timestamp now = new Timestamp(System.currentTimeMillis());
              Instant beforeIns = time.toInstant();
              Instant nowIns = now.toInstant();
              Duration duration = Duration.between(beforeIns, nowIns);
              long hour = Math.abs(duration.toHours());
              if(hour < 1){
                  String [] s = recommendPlanner.getList().split(",");
                  for(int i = 0; i < 5; i++){ //ìµœëŒ€ 5ê°œê¹Œì§€ í˜¸ì¶œ
                      if(s[i].equals("A")) break; //AëŠ” ì„¤ê³„ì‚¬ ì •ë³´ê°€ ì—†ëŠ” ê²½ìš°
                      Planner planner = plannerRepository.findById(Long.parseLong(s[i])).orElseThrow(IllegalArgumentException::new);
                      plannerDtos.add(modelMapper.map(planner, PlannerDto.class));
                  }
              }
              else recommendPlanner = null;
          }
          if(recommendPlanner == null) { //ì €ì¥ëœ ë‚´ìš©ì´ ì—†ëŠ” ê²½ìš°ë‚˜ ì €ì¥ëœì§€ 1ì‹œê°„ì´ ì´ˆê³¼í•œ ê²½ìš° ìƒˆë¡œìš´ ê³„ì‚° í›„ DBì— ì €ì¥
              List<Planner> planners = plannerRepository.findAllPermitPlanner();
              List<Recommend> recommends = new ArrayList<>();
              for (Planner planner : planners) {
                  recommends.add(new Recommend(planner.getReview().size(), planner.getRecommendRating(), modelMapper.map(planner, PlannerDto.class)));
              }
              Collections.sort(recommends);
              String s = "";
              for (Recommend recommend : recommends) {
                  plannerDtos.add(recommend.getPlannerDto());
                  s+=recommend.getPlannerDto().getId();
                  s+=","; //ì„¤ê³„ì‚¬ IDê°„ ,ë¥¼ í™œìš©í•˜ì—¬ ë°ì´í„° ë¶„ë¦¬
              }
              s+="A,A,A,A,A"; //ì„¤ê³„ì‚¬ê°€ 0ëª…ì¸ ê²½ìš°ë¥¼ ëŒ€ë¹„í•˜ì—¬ í•­ìƒ ë¹ˆ ë°ì´í„°ë¥¼ 5ê°œ ì¶”ê°€
              time = new Timestamp(System.currentTimeMillis());
              RecommendPlanner created = RecommendPlanner.builder()
                      .time(time)
                      .list(s)
                      .build();
              recommendPlannerRepository.save(created);
          }
          RecommendDto recommendDto = RecommendDto.builder()
                  .list(plannerDtos)
                  .time(time)
                  .build();
          return recommendDto;
      }
      ```

### ğŸ“– ë°°ìš´ì 
